name: myReactApp

on:
  push:
    branches:
      - main
  schedule:
    - cron: '0 */1 * * *' # Jalan tiap 6 jam

jobs:
  auto_commit:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - uses: actions/checkout@v3
      
      - name: Update Activity Log
        run: |
          # Bikin perubahan di file biar ada yang di-commit
          echo "System check: $(date)" >> activity_log.txt
          
      - name: Commit & Push Random Message
        run: |
          git config --global user.name "cims969"
          git config --global user.email "vimsecc@proton.me"
          
          # Ini array pesan-pesan dewa tadi
          MSGS=(
          "Refactor core logic for better performance latency" 
          "Optimize database query execution time" 
          "Fix race condition in async handler" 
          "Update internal dependencies to latest stable version" 
          "Enhance security middleware integration" 
          "Code cleanup: remove deprecated legacy functions" 
          "Refactor API response structure for scalability" 
          "Improve error logging mechanism pipeline" 
          "Hotfix: Resolve memory leak in background worker" 
          "Minor UI adjustments based on UX research"
          )
          
          # Pilih satu secara acak
          RANDOM_MSG=${MSGS[$RANDOM % ${#MSGS[@]}]}
          
          git add activity_log.txt
          git commit -m "$RANDOM_MSG"
          git push
